# ============================================================
# 🔐 StandX 认证配置 - 两种方案互斥选择其一
# ============================================================
#
# 方案 1️⃣  : 基于钱包签名的完整认证（推荐用于长期运行）
# ──────────────────────────────────────────
# 需要：仅 WALLET_PRIVATE_KEY（系统自动生成 ED25519 密钥）
# 流程：系统将自动通过钱包签名完成4步认证，获取访问令牌
# 优点：完全自动化，无需预先获取令牌和 ED25519 密钥，适合自动化部署
#
WALLET_PRIVATE_KEY=0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef
#  ↑ Ethereum 钱包私钥（必须以 0x 前缀开头，64 字符十六进制）
#    获取方式：从 MetaMask、硬件钱包或其他 Ethereum 钱包导出
#    注意：使用方案1时，ED25519_PRIVATE_KEY 和 ACCESS_TOKEN 应该保持空或被注释
#
#
# 方案 2️⃣  : 基于预配置令牌的快速认证（推荐用于测试）
# ──────────────────────────────────────────
# 需要：ED25519_PRIVATE_KEY + ACCESS_TOKEN（WALLET_PRIVATE_KEY 必须为空）
# 流程：系统直接使用这两个参数（不执行钱包签名认证）
# 优点：更快，适合短期测试或已从平台获取令牌的用户
# 
# 启用方案2的步骤：
# 1. 将上方 "WALLET_PRIVATE_KEY" 注释掉（前面加 # 号）
# 2. 取消下方两行的注释（删除 # 号）
#
# ED25519_PRIVATE_KEY=your_44_char_base58_key_here
#   ↑ StandX 平台生成的 Ed25519 私钥（44 字符 base58 编码字符串）
#     获取方式：从 StandX 平台账户设置中复制
#
# ACCESS_TOKEN=your_access_token_here
#   ↑ StandX 平台签发的访问令牌（通常7天有效期）
#     获取方式：从 StandX 平台控制面板申请
#
#
# 📋 配置检查清单：
# ──────────────────
# ✓ 方案1正确：WALLET_PRIVATE_KEY 已设置，ED25519_PRIVATE_KEY 和 ACCESS_TOKEN 都被注释或为空
# ✓ 方案2正确：ED25519_PRIVATE_KEY 和 ACCESS_TOKEN 都已设置，WALLET_PRIVATE_KEY 被注释或为空
# ✗ 常见错误：同时设置 WALLET_PRIVATE_KEY 和 (ED25519_PRIVATE_KEY + ACCESS_TOKEN)
# ✗ 常见错误：只设置 ED25519_PRIVATE_KEY 或只设置 ACCESS_TOKEN（缺少配对参数）
# ✗ 常见错误：三个参数都为空或都被注释

# Market maker strategy config
MARKET_MAKER_SYMBOL=BTC-USD
MARKET_MAKER_QTY=0.005
MARKET_MAKER_TARGET_BPS=7.5    # 初始下单的目标偏离
MARKET_MAKER_MIN_BPS=7.0       # 最小偏离（低于此值重新挂）
MARKET_MAKER_MAX_BPS=9.9       # 最大偏离（超过此值重新挂）

# 余额降级阈值（风险控制）
MARKET_MAKER_BALANCE_THRESHOLD_1=100    # 手续费容忍阈值（USDT），低于此值进入降级模式1（25 bps）
MARKET_MAKER_BALANCE_THRESHOLD_2=50     # 止损阈值（USDT），低于此值进入降级模式2（80 bps）

# 监控间隔（秒）
MARKET_MAKER_CHECK_INTERVAL=0.0         # 价格监控间隔（0表示无延迟，默认0秒，API调用本身有延迟）

# 价格数据源
MARKET_MAKER_PRICE_SOURCE=http          # http: HTTP轮询 | websocket: WebSocket实时推送

# 美股开盘时段强制降级（周一-周五 09:30-16:00 美东时间）
MARKET_MAKER_FORCE_DEGRADED_ON_US_OPEN=false   # true: 开盘时段强制进入第3档 | false: 关闭此功能

# ============================================================
# 📱 Telegram 通知配置（可选）
# ============================================================
# 说明：做市器会在关键事件时推送 Telegram 消息（模式切换、平仓、异常等）
# 如果不需要通知，留空或注释掉即可，不影响策略运行
#
# 配置步骤：
# 1. 在 Telegram 搜索 @BotFather，发送 /newbot 创建机器人
# 2. 按提示设置名称，获取 Bot Token（格式：123456789:ABCdefGHIjklMNOpqrsTUVwxyz）
# 3. 搜索 @userinfobot，发送任意消息获取你的 Chat ID（纯数字）
# 4. 与你的 Bot 发送 /start 开始对话（必须，否则 Bot 无法主动发消息）
# 5. 运行 python tests/test_notification.py 测试是否配置成功
#
# 详细教程：见 README.md 中的 "Telegram 通知配置" 章节
#
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
#  ↑ Telegram Bot 令牌（从 @BotFather 获取）
#    留空或注释则禁用通知功能
#
TELEGRAM_CHAT_ID=123456789
#  ↑ 接收消息的 Chat ID（你的 Telegram 用户 ID 或群组 ID）
#    个人用户：从 @userinfobot 获取（纯数字，如 123456789）
#    群组：将 Bot 加入群组后，访问 https://api.telegram.org/bot<TOKEN>/getUpdates 获取
#
# ========= 订单重挂通知限流（可选） =========
# 说明：控制相同原因（取冒号前缀）在一定时间窗口内只发送一次通知，
#      以防止高频重挂导致 Telegram 刷屏。单位为秒。
# 默认值：3600（1 小时）。若希望更频繁，可设置为 60（1 分钟）或 300（5 分钟）。
REORDER_NOTIFY_THROTTLE_SECONDS=3600
